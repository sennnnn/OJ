# 第一题

【问题描述】

输入一组整数保存在一数组中，按照某种方法将数组中的元素进行重新排列，排列后可将其看成是一个用数组方式存储的完全二叉树（即：将完全二叉树结点中的数据按照从上到下、从左到右的顺序存储在一维数组中），对该二叉树按照中序遍历可得到一组从小到大排列的有序序列。例如：假如输入了18个整数，其原始序列为：56、987、-25、0、1021、-238、399、12、77、-1、72190、-25、-168、-41367、3218、12、0、-25，将这组整数重新排列为：12、-1、987、-25、0、77、3218、-238、-25、0、12、56、399、1021、72190、-41367、-168、-25，排列后这组数据可以看成如下图所示的完全二叉树的数组存储形式：image.png

image.png

该完全二叉树的中序遍历序列为从小到大排列的有序序列。

编写程序，将输入的原始整数序列转换为满足上述要求的整数序列，即将转换结果看成是一个以数组形式存储的完全二叉树，该二叉树按中序遍历将得到一组从小至大排列的序列。

【输入形式】

先从标准输入读入整数的个数（大于等于1，小于等于100），然后在下一行输入这些整数（整数大小不会超出int的表示范围），各整数间以一个空格分隔，最后一个整数后为换行符。

【输出形式】

将转换后的整数序列依次输出到标准输出，各整数间以一个空格分隔，最后一个整数后也有一个空格。

【样例输入】

18

56 987 -25 0 1021 -238 399 12 77 -1 72190 -25 -168 -41367 3218 12 0 -25

【样例输出】

12 -1 987 -25 0 77 3218 -238 -25 0 12 56 399 1021 72190 -41367 -168 -25

【样例说明】

输入了18个整数，将这18个整数转换为输出的整数序列形式，该序列形式就是上图所示的完全二叉树的数组存储形式。

【评分标准】

该题要求实现整数序列的转换，提交程序名为：arrange.c或arrange.cpp。

# 第二题

【问题描述】

给定某能正常运行结束的程序动态运行时用户函数调用栈信息（当一个函数被调用时将入栈，当调用返回时，将出栈）。编写程序，对函数调用栈信息进行分析，依据函数入栈和出栈信息，找出调用层次最深的函数（最深层次数大于1），并计算其调用路径、扇入数（调用该函数的函数个数）及实际函数运行时实际被调用次数；当存在多个调用层次相同的函数时，请按执行顺序输出；若某函数存在多条相同最深调用路径，则只输出执行顺序最早的调用路径信息。假设程序中不存在递归调用；函数名符合C语言标识符的规定，函数名中字符个数不超过20。

【输入形式】

假设用1时表示入栈操作；用0时表示出栈。当操作为1（入栈）时，输入形式为：

<操作> <函数名>  

当操作为0（出栈）时，输入形式为：

<操作>

所有入栈操作和出栈操作都是从标准输入分行输入，调用栈中操作个数不超过200，出现的函数个数不超过100。

【输出形式】

按照调用顺序将调用层次最深的函数信息分行输出到标准输出，每行的信息包括：函数名、调用路径、扇入数和实际被调用次数，各信息间以一个空格分隔；调用路径用调用的函数名和英文减号“-”连接而成，第一个函数名前和最后一个函数名后没有英文减号。

【样例1输入】

1 main
1 input
0
1 area
0
1 findA
1 area
0
0
1 findB
1 get
0
0
0

【样例1输出】

area main-findA-area 2 2

get main-findB-get 1 1

【样例1说明】

输入了14个栈操作：开始main函数入栈；main函数调用的input函数入栈，然后input返回并出栈；接下来main函数调用area函数并返回；随后main函数调用findA函数，findA函数调用area函数，这时存在3层函数调用（包括main函数）;然后area函数返回，接着main函数调用findB函数，findB函数调用get函数这时也是存在3层函数调用；最后get、findB和main函数依次返回并出栈。14个栈操作完毕，栈为空,这时调用函数最深的层次数为3，按照操作的顺序分别输出这些函数的信息。其中area被两个不同的函数分别调用一次，所以其扇入数为2，调用次数为2。

【样例2输入】

1 main
1 input
0
1 mysqrt
0
1 findA
0
1 findB
1 area
1 mysin
0
1 mycos
0
1 mysqrt
0
0
0
1 findC
1 area
1 mysin
0
0
1 mysqrt
1 max
0
0
0
1 output
0
0

【样例2输出】

mysin main-findB-area-mysin 1 2

mycos main-findB-area-mycos 1 1

mysqrt main-findB-area-mysqrt 3 3

mysin main-findC-area-mysin 1 2

max main-findC-mysqrt-max 1 1

【样例2说明】

输入了30个栈操作，开始main函数入栈；main函数调用的input函数入栈，然后scanf返回并出栈；接下来main函数分别调用input和findA函数并返回；随后main函数调用findB函数，findB函数调用area函数，area函数调用mysin函数，这时存在4层函数调用（包括main函数）;然后mysin函数返回，接着area调用mycos函数，这时也是存在4层函数调用；后面的操作依次类推。三十个栈操作完毕，栈为空，这时调用函数最深的层次数为4，按照操作的顺序分别输出这些函数的信息。其中mysin函数共被调用2次，但都是被同一函数调用的，所以其扇入数为1，而且其两次调用都是最深层次调用；mysqrt函数共被调用3次，而且是被不同函数调用，所以其扇入数为3。

【评分标准】

该题要求对函数调用栈信息进行分析，提交程序名为stack.c或stack.cpp。